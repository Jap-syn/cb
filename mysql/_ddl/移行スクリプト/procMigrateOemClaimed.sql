DROP procedure IF EXISTS `procMigrateOemClaimed`;

DELIMITER $$
CREATE PROCEDURE `procMigrateOemClaimed` ()
BEGIN

    /* 移行処理：OME請求 */
    /*  2015-08-19  項目追加  */

    DECLARE
        updDttm    datetime;        -- 更新日時

    SET updDttm = now();

    INSERT INTO `T_OemClaimed`
        (`OemClaimedSeq`,
        `OemId`,
        `FixedMonth`,
        `Ordinal`,
        `ProcessDate`,
        `SettlePlanDate`,
        `SpanFrom`,
        `SpanTo`,
        `OrderCount`,
        `UseAmount`,
        `CB_MonthlyFee`,
        `CB_SettlementCountRKF`,
        `CB_SettlementFeeRKF`,
        `CB_SettlementCountSTD`,
        `CB_SettlementFeeSTD`,
        `CB_SettlementCountEXP`,
        `CB_SettlementFeeEXP`,
        `CB_SettlementCountSPC`,
        `CB_SettlementFeeSPC`,
        `CB_SettlementCount`,
        `CB_SettlementFee`,
        `CB_ClaimCountBS`,
        `CB_ClaimFeeBS`,
        `CB_ClaimCountDK`,
        `CB_ClaimFeeDK`,
        `CB_EntMonthlyCountRKF`,
        `CB_EntMonthlyFeeRKF`,
        `CB_EntMonthlyCountSTD`,
        `CB_EntMonthlyFeeSTD`,
        `CB_EntMonthlyCountEXP`,
        `CB_EntMonthlyFeeEXP`,
        `CB_EntMonthlyCountSPC`,
        `CB_EntMonthlyFeeSPC`,
        `CB_EntMonthlyCount`,
        `CB_EntMonthlyFee`,
        `OpDkInitCount`,
        `OpDkInitFee`,
        `OpDkMonthlyCount`,
        `OpDkMonthlyFee`,
        `OpApiRegOrdMonthlyCount`,
        `OpApiRegOrdMonthlyFee`,
        `OpApiAllInitCount`,
        `OpApiAllInitFee`,
        `OpApiAllMonthlyCount`,
        `OpApiAllMonthlyFee`,
        `TfReclaimCount`,
        `TfReclaimFee`,
        `TfDamageInterestCount`,
        `TfDamageInterestAmount`,
        `TfMissedReceiptCount`,
        `TfMissedReceiptAmount`,
        `TfDoubleReceiptCount`,
        `TfDoubleReceiptAmount`,
        `TfCancelCount`,
        `TfCancelAmount`,
        `TfDevideReceiptCount`,
        `TfDevideReceiptAmount`,
        `CB_AdjustmentAmount`,
        `CB_ClaimTotal`,
        `OM_ShopTotal`,
        `OM_SettleShopTotal`,
        `OM_SettlementCountRKF`,
        `OM_SettlementFeeRKF`,
        `OM_SettlementCountSTD`,
        `OM_SettlementFeeSTD`,
        `OM_SettlementCountEXP`,
        `OM_SettlementFeeEXP`,
        `OM_SettlementCountSPC`,
        `OM_SettlementFeeSPC`,
        `OM_SettlementCount`,
        `OM_SettlementFee`,
        `OM_ClaimCountBS`,
        `OM_ClaimFeeBS`,
        `OM_ClaimCountDK`,
        `OM_ClaimFeeDK`,
        `OM_EntMonthlyCountRKF`,
        `OM_EntMonthlyFeeRKF`,
        `OM_EntMonthlyCountSTD`,
        `OM_EntMonthlyFeeSTD`,
        `OM_EntMonthlyCountEXP`,
        `OM_EntMonthlyFeeEXP`,
        `OM_EntMonthlyCountSPC`,
        `OM_EntMonthlyFeeSPC`,
        `OM_EntMonthlyCount`,
        `OM_EntMonthlyFee`,
        `OM_AdjustmentAmount`,
        `OM_TotalProfit`,
        `CR_TotalAmount`,
        `CR_OemAmount`,
        `CR_EntAmount`,
        `PayingMethod`,
        `PC_CarryOver`,
        `PC_ChargeCount`,
        `PC_ChargeAmount`,
        `PC_SettlementFee`,
        `PC_ClaimFee`,
        `PC_CancelCount`,
        `PC_CalcelAmount`,
        `PC_StampFeeCount`,
        `PC_StampFeeTotal`,
        `PC_MonthlyFee`,
        `PC_TransferCommission`,
        `PC_DecisionPayment`,
        `PC_AdjustmentAmount`,
        `FixedTransferAmount`,
        `PayBackCount`,
        `PayBackAmount`,
        `PayingControlStatus`,          -- 2015-08-19  本締め／仮締め区分
        `RegistDate`,
        `RegistId`,
        `UpdateDate`,
        `UpdateId`,
        `ValidFlg`)
    SELECT
        `T_OemClaimed`.`OemClaimedSeq`,
        `T_OemClaimed`.`OemId`,
        `T_OemClaimed`.`FixedMonth`,
        `T_OemClaimed`.`Ordinal`,
        `T_OemClaimed`.`ProcessDate`,
        `T_OemClaimed`.`SettlePlanDate`,
        `T_OemClaimed`.`SpanFrom`,
        `T_OemClaimed`.`SpanTo`,
        `T_OemClaimed`.`OrderCount`,
        `T_OemClaimed`.`UseAmount`,
        `T_OemClaimed`.`CB_MonthlyFee`,
        `T_OemClaimed`.`CB_SettlementCountRKF`,
        `T_OemClaimed`.`CB_SettlementFeeRKF`,
        `T_OemClaimed`.`CB_SettlementCountSTD`,
        `T_OemClaimed`.`CB_SettlementFeeSTD`,
        `T_OemClaimed`.`CB_SettlementCountEXP`,
        `T_OemClaimed`.`CB_SettlementFeeEXP`,
        `T_OemClaimed`.`CB_SettlementCountSPC`,
        `T_OemClaimed`.`CB_SettlementFeeSPC`,
        `T_OemClaimed`.`CB_SettlementCount`,
        `T_OemClaimed`.`CB_SettlementFee`,
        `T_OemClaimed`.`CB_ClaimCountBS`,
        `T_OemClaimed`.`CB_ClaimFeeBS`,
        `T_OemClaimed`.`CB_ClaimCountDK`,
        `T_OemClaimed`.`CB_ClaimFeeDK`,
        `T_OemClaimed`.`CB_EntMonthlyCountRKF`,
        `T_OemClaimed`.`CB_EntMonthlyFeeRKF`,
        `T_OemClaimed`.`CB_EntMonthlyCountSTD`,
        `T_OemClaimed`.`CB_EntMonthlyFeeSTD`,
        `T_OemClaimed`.`CB_EntMonthlyCountEXP`,
        `T_OemClaimed`.`CB_EntMonthlyFeeEXP`,
        `T_OemClaimed`.`CB_EntMonthlyCountSPC`,
        `T_OemClaimed`.`CB_EntMonthlyFeeSPC`,
        `T_OemClaimed`.`CB_EntMonthlyCount`,
        `T_OemClaimed`.`CB_EntMonthlyFee`,
        `T_OemClaimed`.`OpDkInitCount`,
        `T_OemClaimed`.`OpDkInitFee`,
        `T_OemClaimed`.`OpDkMonthlyCount`,
        `T_OemClaimed`.`OpDkMonthlyFee`,
        `T_OemClaimed`.`OpApiRegOrdMonthlyCount`,
        `T_OemClaimed`.`OpApiRegOrdMonthlyFee`,
        `T_OemClaimed`.`OpApiAllInitCount`,
        `T_OemClaimed`.`OpApiAllInitFee`,
        `T_OemClaimed`.`OpApiAllMonthlyCount`,
        `T_OemClaimed`.`OpApiAllMonthlyFee`,
        `T_OemClaimed`.`TfReclaimCount`,
        `T_OemClaimed`.`TfReclaimFee`,
        `T_OemClaimed`.`TfDamageInterestCount`,
        `T_OemClaimed`.`TfDamageInterestAmount`,
        `T_OemClaimed`.`TfMissedReceiptCount`,
        `T_OemClaimed`.`TfMissedReceiptAmount`,
        `T_OemClaimed`.`TfDoubleReceiptCount`,
        `T_OemClaimed`.`TfDoubleReceiptAmount`,
        `T_OemClaimed`.`TfCancelCount`,
        `T_OemClaimed`.`TfCancelAmount`,
        `T_OemClaimed`.`TfDevideReceiptCount`,
        `T_OemClaimed`.`TfDevideReceiptAmount`,
        `T_OemClaimed`.`CB_AdjustmentAmount`,
        `T_OemClaimed`.`CB_ClaimTotal`,
        `T_OemClaimed`.`OM_ShopTotal`,
        `T_OemClaimed`.`OM_SettleShopTotal`,
        `T_OemClaimed`.`OM_SettlementCountRKF`,
        `T_OemClaimed`.`OM_SettlementFeeRKF`,
        `T_OemClaimed`.`OM_SettlementCountSTD`,
        `T_OemClaimed`.`OM_SettlementFeeSTD`,
        `T_OemClaimed`.`OM_SettlementCountEXP`,
        `T_OemClaimed`.`OM_SettlementFeeEXP`,
        `T_OemClaimed`.`OM_SettlementCountSPC`,
        `T_OemClaimed`.`OM_SettlementFeeSPC`,
        `T_OemClaimed`.`OM_SettlementCount`,
        `T_OemClaimed`.`OM_SettlementFee`,
        `T_OemClaimed`.`OM_ClaimCountBS`,
        `T_OemClaimed`.`OM_ClaimFeeBS`,
        `T_OemClaimed`.`OM_ClaimCountDK`,
        `T_OemClaimed`.`OM_ClaimFeeDK`,
        `T_OemClaimed`.`OM_EntMonthlyCountRKF`,
        `T_OemClaimed`.`OM_EntMonthlyFeeRKF`,
        `T_OemClaimed`.`OM_EntMonthlyCountSTD`,
        `T_OemClaimed`.`OM_EntMonthlyFeeSTD`,
        `T_OemClaimed`.`OM_EntMonthlyCountEXP`,
        `T_OemClaimed`.`OM_EntMonthlyFeeEXP`,
        `T_OemClaimed`.`OM_EntMonthlyCountSPC`,
        `T_OemClaimed`.`OM_EntMonthlyFeeSPC`,
        `T_OemClaimed`.`OM_EntMonthlyCount`,
        `T_OemClaimed`.`OM_EntMonthlyFee`,
        `T_OemClaimed`.`OM_AdjustmentAmount`,
        `T_OemClaimed`.`OM_TotalProfit`,
        `T_OemClaimed`.`CR_TotalAmount`,
        `T_OemClaimed`.`CR_OemAmount`,
        `T_OemClaimed`.`CR_EntAmount`,
        `T_OemClaimed`.`PayingMethod`,
        `T_OemClaimed`.`PC_CarryOver`,
        `T_OemClaimed`.`PC_ChargeCount`,
        `T_OemClaimed`.`PC_ChargeAmount`,
        `T_OemClaimed`.`PC_SettlementFee`,
        `T_OemClaimed`.`PC_ClaimFee`,
        `T_OemClaimed`.`PC_CancelCount`,
        `T_OemClaimed`.`PC_CalcelAmount`,
        `T_OemClaimed`.`PC_StampFeeCount`,
        `T_OemClaimed`.`PC_StampFeeTotal`,
        `T_OemClaimed`.`PC_MonthlyFee`,
        `T_OemClaimed`.`PC_TransferCommission`,
        `T_OemClaimed`.`PC_DecisionPayment`,
        `T_OemClaimed`.`PC_AdjustmentAmount`,
        `T_OemClaimed`.`FixedTransferAmount`,
        0,
        0,
        1,                    --  2015-08-19  本締め／仮締め区分
        updDttm,
        9,
        updDttm,
        9,
        1
    FROM `coraldb_ikou`.`T_OemClaimed`;
END
$$

DELIMITER ;

